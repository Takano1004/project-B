{% extends "base.html" %}

{% block content %}
<main class="container mt-4">
  <div class="row">
    <!-- 左カラム：拾得物の情報 -->
    <div class="col-md-6">
      <h2 class="mb-3 bg-success text-white p-2 rounded">拾得物詳細</h2>
      <table class="table table-bordered">
        <tbody>
          <tr>
            <th>ID</th>
            <td>{{ item.ID }}</td>
          </tr>
          <tr>
            <th>拾得物分類ID</th>
            <td>{{ item.拾得物分類ID }}</td>
          </tr>
          <tr>
            <th>拾得場所</th>
            <td>{{ item.拾得場所 }}</td>
          </tr>
          <tr>
            <th>色</th>
            <td>{{ item.色 }}</td>
          </tr>
          <tr>
            <th>特徴</th>
            <td>{{ item.特徴 }}</td>
          </tr>
          <tr>
            <th>画像</th>
            <td>
              {% if item.画像 %}
                <img src="{{ url_for('static', filename='images/' ~ item.画像) }}" alt="拾得物画像" style="max-width:100%; height:auto;">
              {% else %}
                画像なし
              {% endif %}
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 右カラム：変更履歴 -->
    <div class="col-md-6">
      <h2 class="mb-3 bg-primary text-white p-2 rounded">変更履歴</h2>
      {% if history %}
      <table class="table table-striped">
        <thead>
          <tr>
            <th>変更日時</th>
            <th>変更内容</th>
          </tr>
        </thead>
        <tbody>
          {% for record in history %}
          <tr>
            <td>{{ record.変更日時.strftime('%Y-%m-%d %H:%M:%S') if record.変更日時 else '日時不明' }}</td>
            <td>{{ record.変更内容 }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
        <p>変更履歴はありません。</p>
      {% endif %}
    </div>
  </div>
</main>
{% endblock %}
